/*C74*/SET SCHEMA PUBLIC
DISCONNECT
/*C76*/SET SCHEMA PUBLIC
DISCONNECT
/*C78*/SET SCHEMA PUBLIC
DISCONNECT
/*C77*/SET SCHEMA PUBLIC
INSERT INTO MW_TABLE VALUES(6,30,'PUBLIC','PERSON','PERSON',NULL,NULL,NULL,NULL)
COMMIT
/*C80*/SET SCHEMA PUBLIC
INSERT INTO MW_FIELD VALUES(30,6,'ZIP','zip',8,0,'','','N','Y')
COMMIT
/*C77*/INSERT INTO MW_FIELD VALUES(31,6,'CITY','city',6,0,'','','N','Y')
COMMIT
INSERT INTO MW_FIELD VALUES(32,6,'ADDRESS','address',5,0,'','','N','Y')
COMMIT
INSERT INTO MW_FIELD VALUES(33,6,'STATE','state',7,0,'','','N','Y')
COMMIT
INSERT INTO MW_FIELD VALUES(34,6,'TITLE','title',4,0,'','','N','Y')
COMMIT
INSERT INTO MW_FIELD VALUES(35,6,'ID','id',1,0,'','','N','Y')
COMMIT
INSERT INTO MW_FIELD VALUES(36,6,'LAST_NAME','lastName',3,0,'','','N','Y')
COMMIT
INSERT INTO MW_FIELD VALUES(37,6,'PHONE_NUMBER','phoneNumber',10,0,'','','N','Y')
COMMIT
INSERT INTO MW_FIELD VALUES(38,6,'EMAIL','email',11,0,'','','N','Y')
COMMIT
INSERT INTO MW_FIELD VALUES(39,6,'FIRST_NAME','firstName',2,0,'','','N','Y')
COMMIT
INSERT INTO MW_FIELD VALUES(40,6,'WEBSITE','website',12,0,'','','N','Y')
COMMIT
INSERT INTO MW_FIELD VALUES(41,6,'COMPANY','company',9,0,'','','N','Y')
COMMIT
/*C81*/SET SCHEMA PUBLIC
DISCONNECT
/*C79*/SET SCHEMA PUBLIC
DISCONNECT
/*C80*/DISCONNECT
/*C77*/DISCONNECT
/*C75*/SET SCHEMA PUBLIC
DISCONNECT
/*C82*/SET SCHEMA PUBLIC
DISCONNECT
/*C83*/SET SCHEMA PUBLIC
DISCONNECT
/*C85*/SET SCHEMA PUBLIC
 /**   * Creates the database used by MagusWeb (prefix MW_).  */ /***************************************************************************  * Table  : MW_APPLICATION  * Purpose: Store MagusWeb generated applications.   ***************************************************************************/ DROP TABLE IF EXISTS MW_APPLICATION CASCADE 
 CREATE TABLE MW_APPLICATION (   id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) not null,    name VARCHAR(80) not null,   short_name VARCHAR(80) not null,   description varchar(4000) null,   path varchar(150) not null,   copyright varchar(200),   license_file varchar(100),   template varchar(50),   architecture varchar(50),   records_per_page integer,   user varchar(50),   primary key(id),   CONSTRAINT apb_uniq_name unique(name) ) 
 /***************************************************************************  * Table  : APPLICATION_SERVER  * Purpose: Store target server used in the generated application.  ***************************************************************************/ DROP TABLE IF EXISTS MW_APPLICATION_SERVER CASCADE 
 CREATE TABLE MW_APPLICATION_SERVER (   id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) not null,    app_id integer not null,   folder VARCHAR(80) not null,   manager_url varchar(150) not null,   username varchar(20) not null,   password varchar(20),   primary key(id) ) 
 ALTER TABLE MW_APPLICATION_SERVER ADD FOREIGN KEY (app_id) REFERENCES MW_APPLICATION (ID) 
 /***************************************************************************  * Table  : MW_APPLICATION_DATABASE  * Purpose: Store target database used in the generated application.  ***************************************************************************/ DROP TABLE IF EXISTS MW_APPLICATION_DATABASE CASCADE 
 CREATE TABLE MW_APPLICATION_DATABASE (   id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) not null,   app_id integer not null,   db_type varchar(30) not null,   data_source varchar(60) not null,   driver varchar(60) not null,   connection_string varchar(80) not null,   connection_impl varchar(200) not null,   username varchar(20) not null,   password varchar(20),   primary key(id),   CONSTRAINT FK_APPDAT_APP FOREIGN KEY (app_id) REFERENCES MW_APPLICATION (ID) ) 
 /***************************************************************************  * Table  : MW_MENU  * Purpose: Store menu entries for a new application.  ***************************************************************************/ DROP TABLE IF EXISTS MW_MENU CASCADE 
 CREATE TABLE MW_MENU (   id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) not null,   parent_menu_id integer,   app_id integer not null,   name VARCHAR(40) not null,   link VARCHAR(100) null,   primary key(id),   CONSTRAINT FK_APPMEN_APP FOREIGN KEY (app_id) REFERENCES MW_APPLICATION (ID),   CONSTRAINT FK_PARENTMENU_MENU FOREIGN KEY (parent_menu_id) REFERENCES MW_MENU (id) ) 
 /***************************************************************************  * Table      : MW_TABLE  * Purpose    : Store meta data information for the tables used to create a   *              new application.  * Description: alias column is used for application generated code.  *   *              label column is a key for i18n support (see messages files   *              in src/resources).  ***************************************************************************/ DROP TABLE IF EXISTS MW_TABLE CASCADE 
 CREATE TABLE MW_TABLE (   id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) not null,   app_id integer not null,   catalog VARCHAR(40) not null,   schema VARCHAR(40) not null,   name VARCHAR(40) not null,   alias VARCHAR(40),   label VARCHAR(100),    orderby VARCHAR(40),   export_keys boolean,   primary key(id),   CONSTRAINT table_uniq_name unique(app_id,name),   CONSTRAINT FK_TAB_APP FOREIGN KEY (app_id) REFERENCES MW_APPLICATION (ID) ) 
 /***************************************************************************  * Table      : MW_FIELD  * Purpose    : Store meta data information for the tables' fields used to   *              create a new application.  * Description: label column is a key for i18n support (see messages files   *              in src/resources).  *   *              visible - 'Y' (everywhere)  *                      - 'F' (create/update only)  ***************************************************************************/ DROP TABLE IF EXISTS MW_FIELD CASCADE 
 CREATE TABLE MW_FIELD (   id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) not null,   table_id integer not null,   NAME VARCHAR(40) not null,   label VARCHAR(100) not null,   display_order integer,   type integer,   mask varchar(50),   comment varchar(2000),   filter char(1) default 'N',   visible char(1) default 'Y',   primary key(id),   CONSTRAINT FK_FLD_TBL FOREIGN KEY (table_id) REFERENCES MW_TABLE (id),   CONSTRAINT field_uniq_name unique(table_id,name) ) 
 DROP TABLE IF EXISTS MW_FIELD_OPTION CASCADE 
 CREATE TABLE MW_FIELD_OPTION (   id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) not null,   field_id integer not null,   value VARCHAR(40) not null,   text VARCHAR(100) not null,   display_order integer,   primary key(id),   CONSTRAINT FK_FLD_OPT_TBL FOREIGN KEY (field_id) REFERENCES MW_FIELD (id),   CONSTRAINT field_opt_uniq_name unique(field_id,value) ) 
INSERT INTO MW_APPLICATION VALUES(1,'Sample Application','sampleapp','Sample application to test the application generator.','C:/apache-tomcat-7.0.53/webapps/sampleapp',NULL,NULL,'black',NULL,NULL,NULL)
COMMIT
INSERT INTO MW_APPLICATION_DATABASE VALUES(1,1,'HSQLDB','ds','driver','jdbc:hsqldb:hsql://localhost/magusdb','conn_url','sa','')
COMMIT
DISCONNECT
/*C86*/SET SCHEMA PUBLIC
 drop schema recipe CASCADE 
CREATE SCHEMA RECIPE AUTHORIZATION DBA
 /***************************************************************************  * Table      : UNIDADE  * Purpose    :   * Description:   ***************************************************************************/ CREATE TABLE recipe.UNIDADE (   id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) not null,   descricao varchar(50) not null,   primary key(id),   CONSTRAINT unidade_uniq_descricao unique(descricao) ) 
 /***************************************************************************  * Table      : CATEGORIA  * Purpose    :   * Description:   ***************************************************************************/ CREATE TABLE recipe.CATEGORIA (   id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) not null,   descricao varchar(50) not null,   primary key(id),   CONSTRAINT categoria_uniq_descricao unique(descricao) ) 
 /***************************************************************************  * Table      : RECEITA  * Purpose    :   * Description: O campo descricao serve para a pregui\ufffda de cadastrar ingrediente por ingrediente.  *              Derivar o preco total e calorias total baseado na lista de ingredientes  ***************************************************************************/ CREATE TABLE recipe.RECEITA (   id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) not null,   categoria_id integer not null,   nome varchar(50) not null,   origem varchar(50) null,   rendimento varchar(50) null,   valor varchar(50) null,   tempo_preparo varchar(50) null,   nota varchar(50) null,   fonte varchar(50) null,   dificuldade varchar(20) null,   descricao longvarchar null,   modo_preparo longvarchar null,   foto longvarbinary null,   arquivo longvarbinary null,   primary key(id),   CONSTRAINT receita_uniq_nome unique(nome),   CONSTRAINT fk_receita_categoria FOREIGN KEY (categoria_id) REFERENCES recipe.CATEGORIA (id) ) 
 /***************************************************************************  * Table      : INGREDIENTE  * Purpose    :   * Description:   ***************************************************************************/ CREATE TABLE recipe.INGREDIENTE (   id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) not null,   unidade_id integer null,   nome varchar(50) not null,   porcao varchar(50) null,   preco decimal(10,2) null,   calorias_porcao double null,   primary key(id),   CONSTRAINT ingrediente_uniq_nome unique(nome),   CONSTRAINT fk_ingrediente_unidade FOREIGN KEY (unidade_id) REFERENCES recipe.UNIDADE (id) ) 
 /***************************************************************************  * Table      : RECEITA_INGREDIENTE  * Purpose    :   * Description:   ***************************************************************************/ CREATE TABLE recipe.RECEITA_INGREDIENTE (   id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) not null,   receita_id integer not null,   ingrediente_id integer null,   unidade_id integer null,   quantidade varchar(50) null,   primary key(id),   CONSTRAINT fk_receita_ingrediente_areceita FOREIGN KEY (receita_id) REFERENCES recipe.RECEITA (id),   CONSTRAINT fk_receita_ingrediente_ingrediente FOREIGN KEY (ingrediente_id) REFERENCES recipe.INGREDIENTE (id),   CONSTRAINT fk_receita_ingrediente_unidade FOREIGN KEY (unidade_id) REFERENCES recipe.UNIDADE (id) ) 
SET SCHEMA RECIPE
INSERT INTO CATEGORIA VALUES(1,'Bebida')
COMMIT
INSERT INTO CATEGORIA VALUES(2,'Sobremesa')
COMMIT
INSERT INTO CATEGORIA VALUES(3,'Torta')
COMMIT
INSERT INTO UNIDADE VALUES(1,'Gramas')
COMMIT
INSERT INTO UNIDADE VALUES(2,'Colher de ch\u00e1')
COMMIT
INSERT INTO UNIDADE VALUES(3,'Colher de sopa')
COMMIT
SET SCHEMA PUBLIC
INSERT INTO MW_APPLICATION VALUES(20,'recipe','recipe','','/home/lestivalet/apps/apache-tomcat-8.0.41/webapps/recipe',NULL,NULL,'adminLTE','RESTv2',NULL,NULL)
COMMIT
INSERT INTO MW_APPLICATION_DATABASE VALUES(2,20,'HSQLDB','ds','driver','jdbc:hsqldb:hsql://localhost/magusdb','connimpl','sa','')
COMMIT
DISCONNECT
/*C87*/SET SCHEMA PUBLIC
 drop schema person CASCADE 
CREATE SCHEMA PERSON AUTHORIZATION DBA
 /***************************************************************************  * Table      : PERSON  * Purpose    :   * Description:   ***************************************************************************/ CREATE TABLE person.PERSON (   id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) not null,   first_name varchar(50) not null,   last_name varchar(50) not null,   title varchar(50) null,   address varchar(200) null,   city varchar(50) null,   state varchar(50) null,   zip varchar(50) null,   company varchar(50) null,   phone_number varchar(50) null,   email varchar(100) null,   website varchar(200) null,   primary key(id) ) 
INSERT INTO MW_APPLICATION VALUES(30,'person','person','','/home/lestivalet/apps/apache-tomcat-8.0.41/webapps/person',NULL,NULL,'adminLTE','RESTv2',NULL,NULL)
COMMIT
INSERT INTO MW_APPLICATION_DATABASE VALUES(3,30,'HSQLDB','ds','driver','jdbc:hsqldb:hsql://localhost/magusdb','connimpl','sa','')
COMMIT
DISCONNECT
/*C88*/SET SCHEMA PUBLIC
DISCONNECT
